{% extends "base.html" %}

{% block title %}Index{% endblock %}
{% block app_content %}
<div class="float-right">
    {% if canCurrentUserEdit %}
        <a class="btn btn-warning float-right" 
           href="{{ url_for('course.update', 
                            number=course.number, 
                            version=course.version) }}" 
           role="button">Update</a>
    {% endif %}

    {% if syllabusApproved %}
        <a class="btn btn-success float-right" 
           href="{{ url_for('syllabus.read', 
                            CNumber=course.number, 
                            CVersion=course.version, 
                            version=syllabus.version,
                            semester=syllabus.semester, 
                            year=syllabus.year, 
                            sec=syllabus.section) }}" 
           role="button">View Current Syllabus</a>
    {% endif %}
</div>

<h1>{{ course.name }}</h1>
<h3>CS{{ course.number }}</h3>

{% if course.description %}
    <p>{{ course.description }}</p>
{% endif %}

<p>Prerequisites: {{ course.prerequisites }}</p>

{% if course.is_core %}
    <p>Satisfies Kent Core</p>
{% endif %}

{% if course.is_diversity %}
    <p>Satisfies Diversity</p>
{% endif %}

{% if course.is_elr %}
    <p>Satisfies Experimental Learning</p>
{% endif %}

{% if course.is_wi %}
    <p>Satisfies Writing Intensive</p>
{% endif %}

<hr>
{% if course.clos|length == 0 %}
    <h6>This course has no associated CLO's</h6>
{% else %}
    <ul>
        {% for clo in course.clos %}
            <li>
                <a href="{{ url_for('clo.read', id=clo.id) }}">CLO:{{ clo.id }} </a>
                {{ clo.general }}
            </li>
        {% endfor %}
    </ul>
{% endif %}
{% if canCurrentUserEdit %}
    {% if assignCloForm.cloSelect.choices|length != 0 %}
        <form class="my-3" method="post">
            {{ assignCloForm.hidden_tag() }}
            <div class="form-row align-items-center">
                <div class="col-auto my-1">
                    {# assignCloForm.cloSelect #}

                    <select class="custom-select mr-sm-2" name="cloSelect" id="cloSelect">
                        {% for choice in assignCloForm.cloSelect.choices %}
                            <option value="{{choice[0]}}">{{choice[1]}}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col-auto my-1">
                    {{ assignCloForm.assignCloSubmit(class_="btn btn-primary") }}
                </div>
            </div>
        </form>
    {% endif %}
{% endif %}

<hr>
<h6>Version {{ version }}</h6>
<small>Most recent Update: {{course.updated}}</small><br>
<small>Created at: {{course.created}}</small>
{% endblock %}